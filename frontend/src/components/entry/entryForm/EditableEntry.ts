import {
  EntryAttributeType,
  EntryAttributeValueGroup,
  EntryAttributeValueObject,
  EntryAttributeValueRole,
} from "../../../apiclient/autogenerated";

export type EditableEntryAttrValue = {
  asObject?: EntryAttributeValueObject;
  asString?: string;
  asNamedObject?: { [key: string]: EntryAttributeValueObject };
  asArrayObject?: Array<EntryAttributeValueObject>;
  asArrayString?: Array<string>;
  asArrayNamedObject?: Array<{ [key: string]: EntryAttributeValueObject }>;
  asArrayGroup?: Array<EntryAttributeValueGroup>;
  asArrayRole?: Array<EntryAttributeValueRole>;
  asBoolean?: boolean;
  asGroup?: EntryAttributeValueGroup;
  asRole?: EntryAttributeValueRole;
};

export type EditableEntry = {
  name: string;
  schema: {
    id: number;
    name: string;
  };
  attrs: Record<string, EditableEntryAttrs>;
};

export type EditableEntryAttrs = Pick<
  EntryAttributeType,
  "id" | "type" | "isMandatory" | "schema"
> & {
  value: EditableEntryAttrValue;
};
