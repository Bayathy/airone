{% include 'list_entry/nav_search.html'%}

<!-- TODO fix styles for paginator -->
<nav aria-label="Page navigator">
    <ul class="pagination">
        <li><a href="?page=1" class="page-link">first</a></li>
        {% if page_obj.has_previous %}
            <li><a href="?page={{ page_obj.previous_page_number }}" class="page-link">＜</a></li>
        {% endif %}

        {% for link_page in page_obj.paginator.page_range %}
            <li><a href="?page={{ link_page }}" class="page-link">{{ link_page }}</a></li>
        {% endfor %}

        {% if page_obj.has_next %}
            <li><a href="?page={{ page_obj.next_page_number }}" class="page-link">＞</a></li>
        {% endif %}
        <li><a href="?page={{ page_obj.paginator.num_pages }}" class="page-link">last</a></li>
    </ul>
</nav>

{% load bitwise_tags %}
<div class="row">
  <div class="col">
    {% csrf_token %}
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>エントリ名</th>
          <th></th>
        </tr>
      </thead>
      <tbody id='entry_container'>
        {% for entry in page_obj %}

        <tr>
          {% if entry.status|bitwise_and:STATUS_ENTRY.CREATING %}
            <td>{{ entry.name }} [作成中]</td>
          {% elif entry.status|bitwise_and:STATUS_ENTRY.EDITING %}
            <td><a href='/entry/show/{{ entry.id }}'>{{ entry.name }} [編集中]</a></td>
          {% else %}
            <td><a href='/entry/show/{{ entry.id }}'>{{ entry.name }}</a></td>
          {% endif %}

          <td><button name="button_delete" type="button" class="btn btn-danger btn-sm del-item" url="/entry/do_delete/{{ entry.id }}/">del</button></td>
        </tr>

        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
